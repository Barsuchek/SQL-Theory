# Триггеры
В теле триггера можно использовать ссылки на значения полей таблицы над которой проходит операция.

Если в таблицу осуществляется вставка новой записи, то к ней можно обратиться добавив NEW.

**Пример:** 

```SQL
NEW.Название_таблицы
```

Если запись изменяется, то можно обратиться к новому и старому значению поля, добавив NEW. или OLD.

**Пример:**

```SQL
NEW.Название_таблицы

OLD.Название_Таблицы
```

При удалении можно обращаться только к старым значениям записи.

## Создание триггера
```SQL
CREATE TRIGGER Название_триггера ON Название_таблицы
FOR INSERT, UPDATE, DELETE
AS
BEGIN
	Запрос
END;
```

* **CREATE TRIGGER** - Команда создания триггера
* **Название_триггера** - Название триггера, который мы хотим создать
* **ON** - Команда после которой надо указать, для какой таблицы создается триггер
* **Название_таблицы** - Название таблицы для которой создается триггер
* **FOR INSERT, UPDATE, DELETE** - Команда для выбора после чего будет активироваться триггер(можно выбрать только один параметр, несколько или все)
* **AS** - Команда после которой идет начало тела триггера
* **BEGIN** - Начало тела триггера
* **Запрос** - Запрос, который должен выполнять триггер
* **END** - Конец тела триггера
* **;** - Конец команды

**Пример:**

```SQL
CREATE TRIGGER Просмотр ON Shop  --Создать триггер Просмотр в таблице Shop
FOR INSERT    --Триггер будет срабатывать после добавления
AS
BEGIN
	SELECT * FROM Shop;  --Выбрать и вывести все значения таблицы Shop
END;
```

## Изменение триггера
```SQL
ALTER TRIGGER Название_триггера ON Название_таблицы
FOR INSERT, UPDATE, DELETE
AS
BEGIN
	Запрос
END;
```

* **ALTER TRIGGER** - Команда изменения триггера
* **Название_триггера** - Название триггера, который мы хотим изменить
* **ON** - Команда после которой надо указать, для какой таблицы создан триггер
* **Название_таблицы** - Название таблицы для которой создан триггер
* **FOR INSERT, UPDATE, DELETE** - Команда для выбора после чего будет активироваться триггер(можно выбрать только один параметр, несколько или все)
* **AS** - Команда после которой идет начало тела триггера
* **BEGIN** - Начало тела триггера
* **Запрос** - Запрос, который должен выполнять триггер
* **END** - Конец тела триггера
* **;** - Конец команды

**Пример:**

```SQL
ALTER TRIGGER Просмотр ON Shop  --Изменить триггер триггер Просмотр в таблице Shop
FOR INSERT    --Триггер будет срабатывать после добавления
AS
BEGIN
	SELECT * FROM Person;  --Выбрать и вывести все значения таблицы Person
END;
```

## Удаление триггера
```SQL
DROP TRIGGER Название_триггера;
```

* **DROP TRIGGER** - Команда для удаления триггера
* **Название_триггера** - Название триггера, который мы хотим удалить
* **;** - Конец команды

**Пример:**

```SQL
DROP TRIGGER Просмотр;
```